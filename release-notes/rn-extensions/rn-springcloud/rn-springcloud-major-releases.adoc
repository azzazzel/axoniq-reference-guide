= Major Releases

This page notes all enhancements and features that we have introduced to our major releases of the Axon Spring Cloud Extension.

== Release 4.6

This release only has seen dependency upgrades.
As such, the main purpose for releasing is to ensure compatibility with Axon Framework 4.6.0.

=== Dependency Upgrade

* Bump mockito.version from 4.7.0 to 4.8.0 https://github.com/AxonFramework/extension-springcloud/pull/222[#222]
* Bump spring-cloud-dependencies from 2021.0.3 to 2021.0.4 https://github.com/AxonFramework/extension-springcloud/pull/221[#221]
* Bump jackson.version from 2.13.3 to 2.13.4 https://github.com/AxonFramework/extension-springcloud/pull/220[#220]
* Bump slf4j.version from 1.7.36 to 2.0.0 https://github.com/AxonFramework/extension-springcloud/pull/219[#219]
* Bump spring.boot.version from 2.7.2 to 2.7.3 https://github.com/AxonFramework/extension-springcloud/pull/218[#218]
* Bump maven-javadoc-plugin from 3.4.0 to 3.4.1 https://github.com/AxonFramework/extension-springcloud/pull/217[#217]
* Bump mockito.version from 4.6.1 to 4.7.0 https://github.com/AxonFramework/extension-springcloud/pull/216[#216]
* Bump axon.version from 4.5.14 to 4.5.15 https://github.com/AxonFramework/extension-springcloud/pull/215[#215]
* Bump junit-jupiter from 5.8.2 to 5.9.0 https://github.com/AxonFramework/extension-springcloud/pull/214[#214]
* Bump maven-resources-plugin from 3.2.0 to 3.3.0 https://github.com/AxonFramework/extension-springcloud/pull/213[#213]
* Bump maven-install-plugin from 3.0.0 to 3.0.1 https://github.com/AxonFramework/extension-springcloud/pull/212[#212]
* Bump maven-assembly-plugin from 3.4.1 to 3.4.2 https://github.com/AxonFramework/extension-springcloud/pull/211[#211]
* Bump spring.boot.version from 2.7.1 to 2.7.2 https://github.com/AxonFramework/extension-springcloud/pull/210[#210]
* Bump maven-install-plugin from 2.5.2 to 3.0.0 https://github.com/AxonFramework/extension-springcloud/pull/209[#209]
* Bump maven-deploy-plugin from 2.8.2 to 3.0.0 https://github.com/AxonFramework/extension-springcloud/pull/208[#208]
* Bump axon.version from 4.5.13 to 4.5.14 https://github.com/AxonFramework/extension-springcloud/pull/207[#207]
* Bump spring.version from 5.3.21 to 5.3.22 https://github.com/AxonFramework/extension-springcloud/pull/206[#206]
* Bump axon.version from 4.5.12 to 4.5.13 https://github.com/AxonFramework/extension-springcloud/pull/205[#205]
* Bump maven-assembly-plugin from 3.4.0 to 3.4.1 https://github.com/AxonFramework/extension-springcloud/pull/204[#204]
* Bump log4j.version from 2.17.2 to 2.18.0 https://github.com/AxonFramework/extension-springcloud/pull/203[#203]
* Bump maven-assembly-plugin from 3.3.0 to 3.4.0 https://github.com/AxonFramework/extension-springcloud/pull/202[#202]
* Bump axon.version from 4.5.11 to 4.5.12 https://github.com/AxonFramework/extension-springcloud/pull/201[#201]
* Bump spring.boot.version from 2.7.0 to 2.7.1 https://github.com/AxonFramework/extension-springcloud/pull/200[#200]
* Bump axon.version from 4.5.10 to 4.5.11 https://github.com/AxonFramework/extension-springcloud/pull/199[#199]
* Bump spring.version from 5.3.20 to 5.3.21 https://github.com/AxonFramework/extension-springcloud/pull/198[#198]
* Bump maven-enforcer-plugin from 3.0.0 to 3.1.0 https://github.com/AxonFramework/extension-springcloud/pull/197[#197]
* Bump mockito.version from 4.6.0 to 4.6.1 https://github.com/AxonFramework/extension-springcloud/pull/196[#196]
* Bump axon.version from 4.5.9 to 4.5.10 https://github.com/AxonFramework/extension-springcloud/pull/195[#195]
* Bump spring-cloud-dependencies from 2021.0.1 to 2021.0.3 https://github.com/AxonFramework/extension-springcloud/pull/194[#194]
* Bump mockito.version from 4.5.1 to 4.6.0 https://github.com/AxonFramework/extension-springcloud/pull/193[#193]
* Bump spring.boot.version from 2.6.1 to 2.7.0 https://github.com/AxonFramework/extension-springcloud/pull/192[#192]
* Bump jackson.version from 2.13.2 to 2.13.3 https://github.com/AxonFramework/extension-springcloud/pull/191[#191]
* Bump spring.version from 5.3.19 to 5.3.20 https://github.com/AxonFramework/extension-springcloud/pull/190[#190]
* Bump spring-cloud-dependencies from 2021.0.1 to 2021.0.2 https://github.com/AxonFramework/extension-springcloud/pull/189[#189]
* Bump mockito.version from 4.5.0 to 4.5.1 https://github.com/AxonFramework/extension-springcloud/pull/188[#188]
* Bump maven-javadoc-plugin from 3.3.2 to 3.4.0 https://github.com/AxonFramework/extension-springcloud/pull/187[#187]
* Bump mockito.version from 4.4.0 to 4.5.0 https://github.com/AxonFramework/extension-springcloud/pull/186[#186]
* Bump spring.version from 5.3.18 to 5.3.19 https://github.com/AxonFramework/extension-springcloud/pull/185[#185]
* Bump jacoco-maven-plugin from 0.8.7 to 0.8.8 https://github.com/AxonFramework/extension-springcloud/pull/184[#184]
* Bump maven-clean-plugin from 3.1.0 to 3.2.0 https://github.com/AxonFramework/extension-springcloud/pull/183[#183]
* Bump spring.version from 5.3.17 to 5.3.18 https://github.com/AxonFramework/extension-springcloud/pull/182[#182]
* Bump axon.version from 4.5.8 to 4.5.9 https://github.com/AxonFramework/extension-springcloud/pull/181[#181]
* Bump spring.version from 5.3.16 to 5.3.17 https://github.com/AxonFramework/extension-springcloud/pull/180[#180]
* Bump maven-compiler-plugin from 3.10.0 to 3.10.1 https://github.com/AxonFramework/extension-springcloud/pull/179[#179]
* Bump mockito.version from 4.3.1 to 4.4.0 https://github.com/AxonFramework/extension-springcloud/pull/178[#178]
* Bump jackson.version from 2.13.1 to 2.13.2 https://github.com/AxonFramework/extension-springcloud/pull/177[#177]
* Bump actions/checkout from 2 to 3 https://github.com/AxonFramework/extension-springcloud/pull/176[#176]
* Bump log4j.version from 2.17.1 to 2.17.2 https://github.com/AxonFramework/extension-springcloud/pull/175[#175]
* Bump actions/setup-java from 2.5.0 to 3 https://github.com/AxonFramework/extension-springcloud/pull/174[#174]
* Bump spring-cloud-dependencies from 2021.0.0 to 2021.0.1 https://github.com/AxonFramework/extension-springcloud/pull/173[#173]
* Bump spring.version from 5.3.15 to 5.3.16 https://github.com/AxonFramework/extension-springcloud/pull/172[#172]
* Bump maven-compiler-plugin from 3.9.0 to 3.10.0 https://github.com/AxonFramework/extension-springcloud/pull/171[#171]
* Bump maven-javadoc-plugin from 3.3.1 to 3.3.2 https://github.com/AxonFramework/extension-springcloud/pull/170[#170]
* Bump slf4j.version from 1.7.35 to 1.7.36 https://github.com/AxonFramework/extension-springcloud/pull/169[#169]

== Release 4.5

There is one mentionable adjustment apart from a multitude of dependency updates.

The `IgnoreListingDiscoveryMode`, which ignores `ServiceInstances` that don't contain any command handling capabilities, now evicts the ignored entries after a configurable timeframe.
This solution ensures instances that were ignored for a retryable reason will be reevaluated after (by default) one minute.
You can check up on the solution for this in pull request https://github.com/AxonFramework/extension-springcloud/pull/168[#168].

For a full list of all the changes, please check the https://github.com/AxonFramework/extension-springcloud/releases/tag/axon-springcloud-4.5[release notes].

== Release 4.4

This release has seen a bunch of adjustments towards the Spring Cloud extension, which can be grouped into two categories.
Firstly, the introduction of the `CapabilityDiscoveryMode` and secondly the automatic process added to this project:

* Introduced GitHub Actions to build, test and push snapshots of the Spring Cloud Extension, as has been marked in pull request https://github.com/AxonFramework/extension-springcloud/pull/68[#68].
* Dependabot was introduced, ensuring all versions will be as up-to-date as possible.
* JUnit4 has been removed entirely, in favor of JUnit 5.
* The `CapabilityDiscoveryMode` mode has been introduced through issue https://github.com/AxonFramework/extension-springcloud/issues/23[#23].
This approach allows for more flexibility when it comes to defining how command routing information should be retrieved and shared.

For a full list of all the changes, please check the https://github.com/AxonFramework/extension-springcloud/releases/tag/axon-springcloud-4.4[release notes].

== Release 4.3

* Issue https://github.com/AxonFramework/extension-springcloud/pull/14[#14] implements the `CommandBusConnector#localSegment`.
Axon Framework introduces this method in release 4.3 (and issue https://github.com/AxonFramework/AxonFramework/issues/874[#874]) to ensure the usage of the ``DisruptorCommandBus``'s repository is followed when distributing the `CommandBus`.
* We introduced a graceful start-up and shutdown solution in Axon Framework release 4.3 for all infrastructure components.
Issue https://github.com/AxonFramework/extension-springcloud/pull/15[#15] ensures the `SpringHttpCommandBusConnector` complies with this style too.

For a complete list of all changes, see https://github.com/AxonFramework/extension-springcloud/issues?q=is%3Aclosed+milestone%3A%22Release+4.3%22[this] page.

== Release 4.2

When using the https://spring.io/projects/spring-cloud-kubernetes[Kubernetes] implementation of Spring Cloud the `SpringCloudCommandRouter` would throw ``NullPointerException``s.
This occurs because Spring Cloud Kubernetes does not support the ``ServiceInstance``'s metadata field, which the `SpringCloudCommandRouter` relies on.
https://github.com/AxonFramework/extension-springcloud/pull/10[This] pull request introduced a null check to ensure the null pointer would not be thrown again.

== Release 4.1

The `SpringCloudCommandRouter` failed to correctly connect to a Spring Cloud Discovery Service if the node did not contain any Command Handler methods.
This undesired behaviour was marked by user "travikk" and made more lenient under https://github.com/AxonFramework/extension-springcloud/issues/1[this].

== Release 4.0

We split off the Spring Cloud logic from Axon Framework core into a dedicated repository.
Next to that, it complies with Axon Framework's 4.0 release.
